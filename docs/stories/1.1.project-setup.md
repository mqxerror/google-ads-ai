# Story 1.1: Project Setup and Local Development Environment

## Status

**Done**

---

## Story

**As a** developer,
**I want** the Next.js project scaffolded with Docker-based local development,
**so that** I have a working foundation.

---

## Acceptance Criteria

1. Next.js 14+ with App Router and TypeScript
2. Tailwind CSS configured
3. ESLint and Prettier configured
4. Docker Compose configured with PostgreSQL and Redis containers
5. Local development server running at localhost:3000
6. Homepage displays placeholder

---

## Tasks / Subtasks

- [x] Task 1: Initialize Next.js project (AC: 1)
  - [x] Run `npx create-next-app@latest` with App Router and TypeScript
  - [x] Verify Next.js 14+ version in package.json (Next.js 16.0.10 installed)
  - [x] Confirm `src/app` directory structure exists

- [x] Task 2: Configure Tailwind CSS (AC: 2)
  - [x] Verify Tailwind is installed (Tailwind v4 with @tailwindcss/postcss)
  - [x] Tailwind v4 uses postcss.config.mjs (no tailwind.config.ts needed)
  - [x] Base styles in `globals.css`

- [x] Task 3: Configure ESLint and Prettier (AC: 3)
  - [x] Install Prettier and eslint-config-prettier
  - [x] Create `.prettierrc` with project settings
  - [x] Update `eslint.config.mjs` to extend prettier
  - [x] Add lint and format scripts to package.json

- [x] Task 4: Create Docker Compose configuration (AC: 4)
  - [x] Create `docker-compose.yml` in project root
  - [x] Add PostgreSQL 16 service with health check
  - [x] Add Redis 7 service with health check
  - [x] Add Adminer service for database GUI (dev only)
  - [x] Create `.env.example` with database connection strings
  - [x] Create `.env.local` (git-ignored) with local dev values

- [x] Task 5: Configure environment and scripts (AC: 5)
  - [x] Add `docker:up` and `docker:down` scripts to package.json
  - [x] Verify `npm run dev` starts server at localhost:3000
  - [x] Docker services configured (requires Docker daemon running)

- [x] Task 6: Create placeholder homepage (AC: 6)
  - [x] Update `src/app/page.tsx` with placeholder content
  - [x] Add project title "AI-Powered Google Ads Manager"
  - [x] Add "Setup Complete" confirmation message
  - [x] Style with Tailwind CSS

- [x] Task 7: Verify all acceptance criteria
  - [x] Run `npm run dev` and confirm localhost:3000 works (HTTP 200)
  - [x] Run `npm run lint` and confirm no errors
  - [x] Docker compose configured (user needs to start Docker Desktop)
  - [x] Homepage displays placeholder with project title

---

## Dev Notes

### Project Structure
Create the project in a new directory called `google-ads-manager` inside the current working directory.

```
google-ads-manager/
├── src/
│   └── app/
│       ├── layout.tsx
│       ├── page.tsx
│       └── globals.css
├── docker-compose.yml
├── .env.example
├── .env.local (git-ignored)
├── .eslintrc.json
├── .prettierrc
├── tailwind.config.ts
├── package.json
└── tsconfig.json
```

### Docker Compose Configuration
```yaml
version: '3.8'
services:
  postgres:
    image: postgres:16-alpine
    container_name: gads-postgres
    environment:
      POSTGRES_USER: gads
      POSTGRES_PASSWORD: gads_dev_password
      POSTGRES_DB: gads_manager
    ports:
      - "5432:5432"
    volumes:
      - postgres_data:/var/lib/postgresql/data
    healthcheck:
      test: ["CMD-SHELL", "pg_isready -U gads"]
      interval: 10s
      timeout: 5s
      retries: 5

  redis:
    image: redis:7-alpine
    container_name: gads-redis
    ports:
      - "6379:6379"
    volumes:
      - redis_data:/data
    command: redis-server --appendonly yes
    healthcheck:
      test: ["CMD", "redis-cli", "ping"]
      interval: 10s
      timeout: 5s
      retries: 5

  adminer:
    image: adminer:latest
    container_name: gads-adminer
    ports:
      - "8080:8080"
    depends_on:
      - postgres

volumes:
  postgres_data:
  redis_data:
```

### Environment Variables (.env.example)
```
# Database
DATABASE_URL="postgresql://gads:gads_dev_password@localhost:5432/gads_manager"

# Redis
REDIS_URL="redis://localhost:6379"

# Next.js
NEXTAUTH_URL="http://localhost:3000"
NEXTAUTH_SECRET="your-dev-secret-change-in-production"
```

### Prettier Configuration (.prettierrc)
```json
{
  "semi": true,
  "singleQuote": true,
  "tabWidth": 2,
  "trailingComma": "es5",
  "printWidth": 100
}
```

### Package.json Scripts to Add
```json
{
  "scripts": {
    "docker:up": "docker compose up -d",
    "docker:down": "docker compose down",
    "format": "prettier --write .",
    "format:check": "prettier --check ."
  }
}
```

---

## Testing

### Test File Location
`tests/` directory (to be created in future stories)

### Testing Standards
- No unit tests required for this story (scaffolding only)
- Manual verification of all acceptance criteria

### Validation Steps
1. `npm run dev` → Server starts at localhost:3000
2. `npm run lint` → No linting errors
3. `npm run format:check` → No formatting issues
4. `docker compose up -d` → All containers healthy
5. Visit localhost:3000 → Placeholder page displays
6. Visit localhost:8080 → Adminer accessible

---

## Change Log

| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2024-12-14 | 1.0 | Initial story creation | PO Agent |

---

## Dev Agent Record

### Agent Model Used
Claude Opus 4.5 (claude-opus-4-5-20251101)

### Debug Log References
None - no errors encountered during implementation.

### Completion Notes List
- Next.js 16.0.10 installed (exceeds 14+ requirement)
- Tailwind CSS v4 uses new `@tailwindcss/postcss` approach (no `tailwind.config.ts`)
- ESLint uses new flat config format (`eslint.config.mjs`)
- Docker services require Docker Desktop to be running to verify containers
- All code validations pass: lint, format:check, dev server returns HTTP 200

### File List
**Created:**
- `google-ads-manager/` (new project directory)
- `google-ads-manager/src/app/page.tsx` (placeholder homepage)
- `google-ads-manager/src/app/layout.tsx` (root layout)
- `google-ads-manager/src/app/globals.css` (global styles)
- `google-ads-manager/docker-compose.yml` (PostgreSQL, Redis, Adminer)
- `google-ads-manager/.env.example` (environment template)
- `google-ads-manager/.env.local` (local dev environment)
- `google-ads-manager/.prettierrc` (Prettier config)
- `google-ads-manager/eslint.config.mjs` (ESLint with Prettier)
- `google-ads-manager/postcss.config.mjs` (Tailwind v4)
- `google-ads-manager/package.json` (with docker/format scripts)
- `google-ads-manager/tsconfig.json` (TypeScript config)
- `google-ads-manager/next.config.ts` (Next.js config)

---

## QA Results
_To be filled by QA Agent_

---

## Senior Developer Review (AI)

**Review Date:** 2024-12-18
**Reviewer:** Claude Opus 4.5 (Adversarial Code Review)
**Outcome:** Approved

### Issues Found
No code fixes required - all ACs implemented correctly.

### Review Follow-ups (AI)
- [ ] [AI-Review][LOW] Dev Notes reference `tailwind.config.ts` but Tailwind v4 uses `postcss.config.mjs` - update documentation
- [ ] [AI-Review][LOW] Dev Notes reference `.eslintrc.json` but ESLint 9 uses `eslint.config.mjs` flat config - update documentation
- [ ] [AI-Review][LOW] Homepage is no longer a "placeholder" - it renders full SmartGrid component
